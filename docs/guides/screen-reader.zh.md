# 屏幕阅读器指南

> 因为每个人都应该有伟大的特征

`react-beautiful-dnd`船用大屏幕阅读器支持,在英语中,箱外.如果你只是想开始,那么你就没有什么可做的了.但是,如果你定制的消息,你也有完全控制.

本指南是为了帮助您创建支持和愉悦用户的消息.屏幕阅读器体验主要关注键盘交互,但是屏幕阅读器用户可以使用任何输入类型(例如鼠标和键盘).

## 音调

在默认消息中,我们选择了友好的语调,在"项目丢弃"之类的短语中选择了"您放弃了项目"这样的短语.我们知道它是更坏的,但是我们认为代词使它个人化,听起来不像计算机.

选择一个最能支持你的听众想要做的音调.如果你需要一些灵感和最佳实践指南,[HTTPS://ATLASAN.设计](https://atlassian.design)看看我们如何与亚特兰大的客户沟通.

## 如何控制公告

这个`announce`函数提供给每个`DragDropContext > Hook`功能,可以用来传递自己的屏幕阅读器消息.消息将立即被读出.重要的是立即传递消息,这样你的用户有快速反应的经验.

如果你试图抓住`announce`函数,然后调用它,它将无法工作,只会打印警告到控制台.如果尝试为同一事件调用anno.两次,则屏幕阅读器将只读取第一个,随后调用anno.将被忽略并打印警告.

## 覆盖指令

### 第1步:引入拖动项目

当用户`tabs`到A`Draggable`我们需要告诉他们如何开始拖拽.我们这样做是通过使用`aria-roledescription`A上的属性*拖曳手柄*.

**缺省消息**"拖动物品".按空格键抬起"

我们告诉用户如下:

-   该项目是可拖动的.
-   如何启动阻力

你不需要在这一点上给出所有的拖动动作指令,让我们等到用户决定开始拖动.

考虑用"项目"代替一个与你的问题领域相匹配的名词,例如"任务"或"问题".你可能还想把"item"这个词全部删除.

### 步骤2:启动拖动

当用户举起`Draggable`通过使用`spacebar`我们想告诉他们很多事情.

**缺省消息**"你已经举起一个项目了.`${start.source.index + 1}`. 使用箭头键移动,空格键下落,并退出取消.

我们告诉用户如下:

-   他们取消了这个项目.
-   项目处于什么位置
-   如何移动项目

注意我们没有告诉他们他们在位置上.`1 of x`. 这是因为我们无法访问当前API中的列表大小.就像现在一样,当我们走向虚拟列表时,保持API光和未来的证明.随意添加`1 of x`在您自己的消息中,以及项目的列表.

**更多信息的消息**"你已经举起一个项目了.`${startPosition}`属于`${listLength}`在`${listName}`名单.使用箭头键移动,空格键下落,并退出取消.

您可以通过以下方式控制打印给用户的消息`DragDropContext` > `onDragStart`钩

```js
onDragStart = (start: DragStart, provided: HookProvided) => {
  provided.announce('My super cool message');
};
```

### 步骤3:拖曳运动

当用户开始拖动时,会出现不同的场景,因此我们将为每个场景创建不同的消息传递.

我们可以通过`DragDropContext` > `onDragUpdate`钩子.

```js
onDragUpdate = (update: DragUpdate, provided: HookProvided) => {
  provided.announce('Update message');
};
```

#### 场景1.在同一列表中移动

用户已经在同一个列表中向后或向前移动,所以我们想告诉用户他们现在处于什么位置.

**缺省消息**"您已经将项目移到了位置.`${update.destination.index + 1}`".

考虑包括`${listLength}`在您的消息传递中.

#### 场景2.搬进不同的名单

用户已经在横轴上移动到一个不同的列表中,所以我们想告诉他们一些事情.

**缺省消息**"您已将项目从列表中移出"`${update.source.droppableId}`就位`${update.source.index + 1}`列出`${update.destination.droppableId}`就位`${update.destination.index + 1}`".

我们告诉用户如下:

-   他们已经搬到一个新的名单上去了.
-   关于新列表的一些信息
-   他们从什么地方搬来的?
-   他们现在处于什么位置?

考虑使用友好的文本作为可下拉的名称,并包括消息传递中列表的长度.

**更多信息的消息**"您已将项目从列表中移出"`${sourceName}`就位`${lastIndex}`属于`${sourceLength}`列出`${destinationName}`就位`${newIndex}`属于`${destinationLength}`".

#### 场景3.没有列表移动

您无法使用键盘进行此操作,但值得为此场景留言,以防用户有用于拖动的指针.

**缺省消息**"你目前没有拖着一个可下拉的区域".

考虑一下如何使这个消息更加友好和清晰.

### 第4步:跌落

跌倒可能有两种方式.要么拖动被取消,要么用户拖动拖动项.您可以使用这些控件来控制这些事件的消息传递.`DragDropContext > onDragEnd`钩子.

#### 场景1.拖曳取消

一`DropResult`对象具有`reason`性质可以是`DROP`或`CANCEL`. 您可以使用它来宣布取消消息.

```js
onDragEnd = (result: DropResult, provided: HookProvided) => {
  if (result.reason === 'CANCEL') {
    provided.announce('Your cancel message');
    return;
  }
};
```

**缺省消息**"运动取消了.该项已返回到${RESULTS.SURCE.KED+1 }的起始位置.

我们告诉用户如下:

-   阻力被取消了
-   项目返回的地方

考虑添加有关列表长度的信息,以及已删除的列表的名称.

**更多信息的消息**"运动取消了.项目已返回列表`${listName}`到它的起始位置`${startPosition}`属于`${listLength}`".

#### 场景2.落户(新职位)

**缺省消息**"你已经放弃了这个项目.它已经从位置移动`${result.source.index + 1}`到`${result.destination.index + 1}`"

我们告诉用户如下:

-   他们已经完成了阻力.
-   项目现在处于什么位置?

#### 场景3.落在家里的名单(原来的位置)

**缺省消息**"你已经放弃了这个项目.它已经落在它的起始位置.`${result.source.index + 1}`"

我们告诉用户如下:

-   他们已经完成了阻力.
-   他们把项目放在起始位置
-   起始位置

#### 场景4.落在国外名单上

这个场景的消息传递应该类似于"dropinahomelist",但我们还添加了项目开始的列表以及项目完成的位置.

**缺省消息**"你已经放弃了这个项目.它已经从位置移动`${result.source.index + 1}`在列表中`${result.source.droppableId}`定位`${result.destination.index + 1}`在列表中`${result.destination.droppableId}`"

考虑一下包括`Droppable`代替ID.如果您的位置,您可能还希望包含该位置.`Droppable`S是有序的.

#### 场景5.落在没有目的地

您无法使用键盘进行此操作,但值得为此场景留言,以防用户有用于拖动的指针.

**缺省消息**"该项目已被删除,而不是在一个可下落的位置.该项已返回到${RESULTS.SURCE.KED+1 }的起始位置.

我们告诉用户如下:

-   他们掉到一个不可丢弃的地方.
-   项目返回的地方

## 这就是所有人

我们希望你觉得这个指南有用.您可以自由地发送关于您希望包含的场景的建议,或者您可能希望共享自己的默认消息并进一步增长知识.
